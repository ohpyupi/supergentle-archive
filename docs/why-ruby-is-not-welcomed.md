# 루비가 환영받지 못하는 이유

#### 루비?
---

Ruby(이하 루비)는 1995년에 발표된 프로그래밍 언어이다. 설계자 마츠모토 유키히로에 의하면 기계중심의 타언어와 달리 인간중심의 언어를 개발하고자 루비를 개발하였다고 한다. 때문에 루비는 배우기 가장 쉬운 언어로 손꼽히는 언어이기도 하다.

루비는 모든분야의 프로그래밍에서 사용될수 있는 매우 일반적인 언어이지만, 지금은 웹개발 언어로 사실 가장 많이 알려져있다. 2004년에 발표된 Ruby on Rails(이하 레일즈)는 MVC 디자인 패턴을 바탕으로 웹개발환경을 제공하는 프레임워크이다. 루비의 철학과 일맥상통하여 배우기 굉장히 쉽고 탁월한 생산성으로 인해서 해외 스타트업에서 많이 사용되었으며 한동안 루비 열풍이 불 정도였다. 레일즈를 사용했던 기업으로는 AirBnb, Spotify, 그리고 Twitter등이 있다.

개인적으로 루비에 애정이 많은데, 본인이 웹개발을 배우면서 처음으로 사용한 언어이기 때문이다. 그때 당시 멋쟁이사자처럼이라는 프로그램을 이수한 학생들이 만든 레일즈 앱 만들기 튜토리얼이 있었는데, 꼬박 일주일간 밤을 세워가면서 따라하고 두번정도 반복하니 혼자 스스로 블로그 웹사이트를 만들수 있었다. 프로그램에 "프"자도 모르던 시절 한거였으니, 이정도면 루비+레일즈 조합의 생산성과 접근성은 증명된셈이다.

<br/>
<p align="center">
  <img src="https://media.githubusercontent.com/media/ohpyupi/supergentle-archive/master/assets/images/ruby.png" alt="Ruby">
</p>
그림 1. 마츠모초 유키히로에 의해 설계된 객체지향 프로그래밍 언어 루비. 쉬운 문법과 생산성으로 한떄 각광 받았으나, 현재는 점차 열기가 식어가고 있으나 그래도 아직까지 메이저 스크립트 언어로 사용되고 있다.
<br/>

#### 현재의 루비
---

하지만 안타깝게도, 루비는 현재 그닥 환영받는 언어는 아니다. 나는 어느 누구보다도 루비의 장점을 몸소 느낀 사람이기에 루비를 구지 깍아내리긴 싫지만, 현재 루비의 상태는 처참하다. 한때 경쟁자로 취급받았던 Python(이하 파이썬)은 과학분야에서 이미 AI와 Machine Learning의 최고 강자 언어가 되었음은 물론이고 다양한 분야에서 영향력을 드러내는 언어가 되었다. 또한 한때 듣보잡이던 Javascript(이하 자바스크립트)는 Google(이하 구글)의 V8 컴파일링 엔진, ES6 구문 업그레이드, 그리고 Node.js(이하 노드)서버개발 런타임 개발로 인해서 웹개발에서 주도권을 뺏어갔다. 본인 역시 석사기간 파이썬으로 시뮬레이션 제작을하고, 현재 서버사이드 엔지니어로 일하면서 노드를 주로 사용하다보니 루비와는 자연히 멀어지게 되었다.

#### 왜 루비가 환영받지 못할까?
---

루비가 환영받지 못하는 이유에는 여러가지가 있는데. 그 이유중 첫째는 성능이슈이다. 위에서 언급한 AirBnb, Sporify, 그리고 Twitter는 루비로 시작을 한 스타트업이었으나 현재는 대부분의 코드를 노드로 이전하였다. 구글에 간단히 검색만 해봐도 루비가 타언어에 비해서 다소 느리다는 것을 알수가 있다. 한때 브라우저는 정보들은 정적으로 표현하는데 그쳤지만, 현재의 브라우저는 수많은 데스크탑 소프트웨어를 대체하며 많은 소프트웨어 들이 웹브라우저로 이식되어 가고있다. 당연한 수순이지만, 웹이 복잡해져가면서 웹상에서의 아키텍트와 성능이 중요한 요소로 자리매김해 가는 것이다. 루비와 레일즈의 성능문제는 다른 언어와 프레임워크로의 이식을 야기하였고, 현재 AirBnb, Spotify와 같은 애플리케이션은 서버를 노드로 이전하였다.

하지만, 이러한 성능문제가 진짜로 루비를 떠나게하는 요소인지는 불분명하다. 웹상에서도 많은 토론이 있는데. 왜냐하면 웹앱전체의 성능문제를 개발언어의 성능문제라고 판단하기에 웹앱은 그렇게 간단하지 않기 때문이다. 에를 들어보자. 사용자가 애플리케이션에 들어와서 자신의 정보를 로드할때 먼저 서버에 요청을 하고 그 서버는 다시 적절한 보안과정을 거쳐서 데이터베이스에서 사용자의 정보를 가져와서 다시 클라이언트로 보내준다. 이때 서버언어의 성능이 차지하는 비율보다도, 데이터베이스자체의 성능 그리고 서버와 데이터베이스간의 요청속도가 더 큰 부분을 차지하기 때문이다. 결국 아무리 빠른 언어로 서버를 개발할지라도, 데이터베이스가 느리면 아무 소용이 없는 것이다.

개인적인 생각으로도 성능문제가 직접적으로 루비의 도태를 야기하는 것은 아니라고 생각한다. 이렇게 아름답고 매력적인 언어과 왜 이렇게 사람들로부터 외면받게되었는지 찾아보고 생각을 해보았다.

#### 루비가 환영받지 못하는 이유 I: 너무 쉬운 레일즈...
---

레일즈는 실로 대단한 프레임워크이다. 위에서도 서술했듯이, 프로그래밍 자체를 모르는 초짜도 노력만 하면 간단하게 웹앱을 만들수있다! 하지만 나는 그것자체에 맹점이 있다고 생각한다. 한가지 예로, 개발자가 회원가입/로그인 보안과정을 추가한다고 가정해보자. 보안과정을 직접추가하려 한다면 사실 여러가지 고려해야 할 사항이 많다. 쿠키를 사용할 것인가 아니면 토큰을 사용할 것인가. 만약 쿠키를 사용한다면 어떤 데이터베이스를 사용할것인가. 그리고 각기 방식에서 해킹에 취약한 점은 어떻게 해결한 것인가 등등 여러가지 해야할 일이 많다. 또한 문제는 해킹이라는 것은 계속해서 변화하기 때문에, 보안방법 역시 계속해서 진화한다. 때문에 보안에 대해서 기본지식을 가지고 여러가지 케이스에 대해서 장접과 단점을 이해하고 상황에 가장 알맞는 방법을 채택하는 것이 프로그래머들에게는 요구된다.

하지만 만약에 이러한 기본지식이 없이 그냥 레일즈로 앱개발을 시작해서 항상 천편일률적으로 레일즈가 제공하는 보안과정만 추가한다면, 그 개발자는 사실 프로그래머라고 하기보다 그저 있는 것을 반복해서 사용하는 Implementor(이하 임플레멘터)에 지나지 않게 되는 것이다. 이것은 개발자의 경쟁력에 엄청난 타격을 가하는 것이고 본인 역시 느낄것이다 자신이 단순하게 복사/붙여넣기를 하고있는 사람에 불과하다는 것을. 나는 크게 두가지가 있다고 생각한다. 레일즈에 익숙해져버려서 경쟁력을 잃고 프로그래밍 세계를 떠나는 부류, 그리고 레일즈의 간편함에 지루함을 느껴 다른 언어로 전향하는 부류. 두가지 케이스 모두 레일즈가 점점 경쟁력을 잃어가는 이유라고 생각한다.

<br/>
<p align="center">
  <img src="https://media.githubusercontent.com/media/ohpyupi/supergentle-archive/master/assets/images/ruby-on-rails.png" alt="Ruby on Rails">
</p>
그림 2. MVC패턴 웹프레임워크 루비온레일즈. 여타 다른 루비 웹프레임워크중 가장 많이 사용되고 있으며, 루비의 개발철학과 일맥상통하여서 아주 쉽고 빠르게 웹애플리케이션을 제작할수 있게 해준다.
<br/>

#### 루비가 환영받지 못하는 이유 II: 루비는 그저 거들뿐...?
---

이것은 본인의 프레임워크에 대한 생각과 철학인데 프레임워크라는 것은 사실 최대한 간결해야하고 그 내부는 프로그래밍 언어로써 채워넣어야 한다고 생각한다. 파이썬으로 웹개발을 하면 Django(이하 장고)라는 프레임워크를 쓰는데 어느정도 장고에 익숙해지면 결국에는 파이썬 프로그래밍 싸움이다. 또한 노드는 Express.js(이하 익스프레스)라는 프레임워크가 있는데 여타 프레임워크중에 가장 간결하다. 결국 실제 기능들은 본인이 직접 작성을 해야하는 경우가 많다. 프레임워크라는 것은 사실 유행과도 가깝다. 자연스럽게 예전 프레임워크는 유행을 잃고 새로운 프레임워크가 더 좋은 성능과 기능으로 그 자리를 대체한다. 만약에 내가 어떤 프레임워크를 열심히 배웟는데 치명적인 이슈로인해서 도태되버린다면 경제적인 기회비용면에서 나는 엄청난 손해를 보는 것이다. 그러한 이유로 본인은 최소한의 기능만을 제공하는 노드, 익스프레스, React.js(이하 리액트), Flask(이하 플라스크, 파이썬 웹프레임워크중 하나)등을 선호하고 남는 여분의 시간은 자바스크립트/파이썬 언어 자체와 디자인패턴에 대해 공부하는 것을 선호한다.

하지만 레일즈를 하게되면 웹에서 마주치는 문제들은 루비로써 개선한다는 느낌이 아니라 레일즈로 해결한다는 느낌이 강하다. 그렇다 보니 자연스럽게 루비 개발자들은 레일즈 개발자로 동일시 되는 것이고, 사실상 루비를 활용한 일반적인 프로그래밍 보다도 레일즈라는 웹개발에 한정된 개발능력만 보유하게 되는 것이다. 레일즈는 좋은 프레임워크이지만, 결국 프레임워크일뿐이고 언젠가 그것을 대체하는 또다른 루비 프레임워크가 나올수 있는 것이다. 나는 루비가 레일즈에 지나친 의존성을 갖게 된것이 유익이었던 것과 동시에 크나큰 치명적인 약점을 초래했다고 생각한다.

#### 루비가 환영받지 못하는 이유 III: 이미 사람들속에 박힌 고정관념
---

계속해서 강조하지만. 그럼에도 불구하고 루비와 레일즈는 아직까지 많은 곳에서 사용되고 있고 좋은 언어이자 프레임워크이다. 하지만, 아이러니 하게도, 사람들 마음속에 자리잡은 루비에 대한 단점들이 루비를 별로 사용하고 싶지 않은 언어로 만든 것같다. 모든 일이 그러하겟지만, 개발과정에서 많은 선택의 순간이 오고 또한 개발자들간에 격렬한 토론끝에 결정을 내리는 경우가 많다. 좋은 점이 많은 언어도 많은 정치적인 이유와 개인적인 이유로 반대당하는 경우가 많은데, 루비같이 이미 사람들에게서 단점이 부각된 언어는 구지 테이블위에 올리고 싶어지지 않게 되는 것같다.  많은 루비 고급 개발자들이 겪겟지만, 갓 프로그래밍을 시작한 신참내기가 들어와서 루비에 대한 문제점들을 나열하고 그것에 대해 일일이 설명해야 하는 과정을 생각한다면 역시 그리 좋은 상황은 아닐것이다.

#### 결론
---

안타깝지만, 새롭게 프로그래밍을 시작하는 친구들에게 루비를 첫언어로 권하고 싶지는 않다... 또한 웹개발자로 일을 시작하고 싶다는 초심자에게 역시 권하고 싶지않다. 루비의 쉬운 접근성과 레일즈의 간편함이 초심자들에게 생각할 기회를 없애고 그저 그들을 임플레멘터로 만들까 두려워서이다. 하지만, 그들이 어느정도 성장했을때 꼭 한번 루비에 관심을 가져달라고 권하고 싶다. 프로그래밍을 하게되면 개발외적으로 언어자체가 가지는 매력과 그것의 철학에 대해서도 많은 관심을 가지게 되는데, 루비의 철학과 구조는 절대로 그저 지나칠수 없을 정도로 매력적이기 때문이다. 나 역시 루비를 계속 공부하고 있지만, 실제 개발에 쓸 생각은 없다. 하지만 관계없다. 루비라는 언어는 그 철학과 구조를 배우고 생각하는 것 자체로써 이미 가치가 충분하기 때문이다.
